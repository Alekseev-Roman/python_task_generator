"use strict";(self["webpackChunkpygenerator"]=self["webpackChunkpygenerator"]||[]).push([[922],{5922:function(t,a,e){e.r(a),e.d(a,{default:function(){return D}});var s=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"container justify-content-center align-middle"},[a("div",{staticClass:"h-100 align-middle"},[a("p",{staticClass:"title-1 text-center bold mt-1"},[t._v(" Генерирование варианта ")]),a("hr",{staticClass:"hr-1",attrs:{align:"center",size:"4"}}),a("TaskCard",{attrs:{"topic-list":t.topicList,params:t.params[0],task:t.variant[1]}}),a("TaskCard",{attrs:{"topic-list":t.topicList,params:t.params[1],task:t.variant[2]}}),a("TaskCard",{attrs:{"topic-list":t.topicList,params:t.params[2],task:t.variant[3]}}),a("div",{staticClass:"text-center mb-3"},[a("button",{staticClass:"act-button text-white w-25 mt-3",on:{click:t.getVariant}},[t._v(" Сгенерировать ")]),void 0!=t.variant[1]?a("button",{staticClass:"act-button text-white w-25 mt-3",on:{click:t.downloadVariant}},[t._v(" Скачать вариант ")]):t._e()])],1)])},i=[],r=e(6318),n=e(1929),c=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"mt-3"},[a("b-card",{staticClass:"text-center"},[a("form",{staticClass:"container-vs text-center",on:{submit:function(a){return a.preventDefault(),t.submitForm.apply(null,arguments)}}},[a("div",{staticClass:"mt-3 d-flex flex-grow-1 justify-content-between"},[a("span",{staticClass:"title-2"},[t._v("Тип")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.params.type,expression:"params.type"}],staticClass:"form-select ml-5",attrs:{required:""},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.params,"type",a.target.multiple?e:e[0])},t.getQuantityTasks]}},t._l(t.types,(function(e){return a("option",{key:e._id,domProps:{value:e._id}},[t._v(t._s(e.type))])})),0)]),a("div",{staticClass:"d-flex flex-grow-1 justify-content-between mt-3"},[a("span",{staticClass:"title-2"},[t._v("Сложность")]),t._l(t.difficulties,(function(e){return a("div",{key:e._id,staticClass:"form-check ml-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.params.difficulty,expression:"params.difficulty"}],staticClass:"form-check-input",attrs:{type:"radio",name:"radioDifficulty",id:"radioDifficulty1",required:""},domProps:{value:e.difficulty,checked:t._q(t.params.difficulty,e.difficulty)},on:{change:[function(a){return t.$set(t.params,"difficulty",e.difficulty)},t.getQuantityTasks]}}),a("label",{staticClass:"form-check-label title-2",attrs:{for:"radioDifficulty1"}},[t._v(" "+t._s(e.difficulty)+" ")])])}))],2),a("div",{staticClass:"d-flex flex-grow-1 justify-content-between mt-3"},[a("span",{staticClass:"title-2"},[t._v("Тема")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.params.topic,expression:"params.topic"}],staticClass:"form-select ml-5",attrs:{required:""},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.params,"topic",a.target.multiple?e:e[0])},t.getQuantityTasks]}},t._l(t.topicList,(function(e){return a("option",{key:e._id,domProps:{value:e._id}},[t._v(" "+t._s(e.name)+" ")])})),0)]),a("div",{staticClass:"d-flex flex-grow-1 justify-content-left mt-3"},[a("span",{staticClass:"text mr-3"},[t._v("Средняя уникальность подходящих задач: ")]),a("span",{class:[t.task_match.mathPercent<60?"red-text":"text"]},[t._v(" "+t._s(t.task_match.mathPercent)+" % ")])]),a("div",{staticClass:"d-flex flex-grow-1 justify-content-left mt-3"},[a("span",{staticClass:"text mr-3"},[t._v("Количество подходящих задач в теме: ")]),a("span",{class:[t.quantityTasks<1?"red-text":"text"]},[t._v(" "+t._s(t.quantityTasks)+" ")])])]),void 0!=t.task?a("div",[t.task.question_name?a("div",{staticClass:"-vs text-center"},[a("hr",{staticClass:"hr-1",attrs:{align:"center",size:"4"}}),a("div",{staticClass:"mt-3 justify-content-center"},[a("span",{staticClass:"title-2 bold"},[t._v("Сгенерированная задача: ")]),a("span",{staticClass:"text ml-3"},[t._v(t._s(t.task.question_name))]),a("button",{staticClass:"act-button w-text mt-3 ml-3 download-button",on:{click:t.downloadTask}},[t._v("Скачать")])]),1==t.params.type?a("div",[a("CoderunnerTaskCard",{attrs:{task:t.task}})],1):t._e(),2==t.params.type?a("div",[a("MultichoiceTaskCard",{attrs:{task:t.task}})],1):t._e()]):t._e()]):t._e()])],1)},l=[],o=e(7724),p=e(6698),u=e(5567),d=e(7441),f=e(5121),y=e(3162);const m=async t=>await f.Z.get(`/backend/export-task?id=${t.task_id}`,{responseType:"blob"}).then((t=>{(0,y.saveAs)(t.data,"task.xml")})),v=async t=>{const a=await f.Z.get(`/backend/generate-variant?type-1=${t[0].type}\n        &topic-1=${t[0].topic}&difficulty-1=${t[0].difficulty}\n        &type-2=${t[1].type}&topic-2=${t[1].topic}\n        &difficulty-2=${t[1].difficulty}&type-3=${t[2].type}\n        &topic-3=${t[2].topic}&difficulty-3=${t[2].difficulty}`);return a.data},h=async(t,a,e)=>{const s=await f.Z.get(`/backend/get-quantity-tasks?type=${t}\n        &difficulty=${e}&topic=${a}`);return s.data};var k=function(t,a,e,s){var i,r=arguments.length,n=r<3?a:null===s?s=Object.getOwnPropertyDescriptor(a,e):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(t,a,e,s);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(n=(r<3?i(n):r>3?i(a,e,n):i(a,e))||n);return r>3&&n&&Object.defineProperty(a,e,n),n};let _=class extends n.w3{constructor(...t){super(...t),(0,r.Z)(this,"difficulties",u.n9),(0,r.Z)(this,"types",u.V5),(0,r.Z)(this,"quantityTasks",null),(0,r.Z)(this,"selectedData",{type:null,topic:null,difficulty:null}),(0,r.Z)(this,"task_created",!1),(0,r.Z)(this,"task_match",[])}markdownToHtml(t){return(0,d.TU)(t)}async submitForm(){this.task_created=!0,this.selectedData.topic=this.$props.params.topic,this.selectedData.type=this.$props.params.type,this.selectedData.difficulty=this.$props.params.difficulty}async getQuantityTasks(){null!=this.$props.params.topic&&null!=this.$props.params.type&&null!=this.$props.params.difficulty&&(this.quantityTasks=await h(this.$props.params.type,this.$props.params.topic,this.$props.params.difficulty))}async downloadTask(){await m(this.$props.task)}};_=k([(0,n.wA)({components:{MultichoiceTaskCard:p.Z,CoderunnerTaskCard:o.Z},props:["task","topicList","params"]})],_);var C=_,w=C,x=e(1001),g=(0,x.Z)(w,c,l,!1,null,"10516fe5",null),b=g.exports,$=e(8875),T=function(t,a,e,s){var i,r=arguments.length,n=r<3?a:null===s?s=Object.getOwnPropertyDescriptor(a,e):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(t,a,e,s);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(n=(r<3?i(n):r>3?i(a,e,n):i(a,e))||n);return r>3&&n&&Object.defineProperty(a,e,n),n};let Z=class extends n.w3{constructor(...t){super(...t),(0,r.Z)(this,"topicList",[]),(0,r.Z)(this,"variant",[]),(0,r.Z)(this,"params",{0:{topic:null,type:null,difficulty:1},1:{topic:null,type:null,difficulty:2},2:{topic:null,type:null,difficulty:3}})}async created(){this.topicList=await(0,$.G)()}async getVariant(){this.variant=await v(this.params)}async downloadVariant(){}};Z=T([(0,n.wA)({components:{CoderunnerTaskCard:o.Z,MultichoiceTaskCard:p.Z,TaskCard:b}})],Z);var j=Z,q=j,P=(0,x.Z)(q,s,i,!1,null,"50bd4298",null),D=P.exports}}]);
//# sourceMappingURL=922.4131f0f8.js.map